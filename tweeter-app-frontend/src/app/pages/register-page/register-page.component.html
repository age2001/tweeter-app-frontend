<app-navbar></app-navbar>
<div class="container">
    <div class="row">
    <div class="col-md-3"></div>
    <div class="col-md-6">
        <div class="wrapper">
        <h2>Register</h2>
        <hr />
        <form #registerForm="ngForm" (submit)="onSubmitHandler()" >
            <div class="form-group">
                <label>First Name</label>
                <input
                    type="text"
                    class="form-control"
                    name="firstName"
                    [(ngModel)]="userModel.firstName"
                    #firstName="ngModel"
                    required
                    [class.is-invalid]="firstName.invalid && firstName.touched"
                />
                <small class="text-danger" [class.d-none]="firstName.untouched || firstName.valid" >First name is required</small>
            </div>

            <div class="form-group">
                <label>Last Name</label>
                <input
                    type="text"
                    class="form-control"
                    name="lastName"
                    [(ngModel)]="userModel.lastName"
                    #lastName="ngModel"
                    required
                    [class.is-invalid]="lastName.invalid && lastName.touched"
                />
                <small class="text-danger" [class.d-none]="lastName.untouched || lastName.valid" >Last name is required</small>
            </div>

            <div class="form-group">
                <label>Email</label>
                <input
                    type="text"
                    class="form-control"
                    name="email"
                    [(ngModel)]="userModel.email"
                    #email="ngModel"
                    required
                    pattern="[a-z0-9.%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
                    [class.is-invalid]="email.invalid && email.touched"
                />
                <div *ngIf="email.errors && email.touched">
                    <small class="text-danger" *ngIf="email.errors['required']">Email is required</small>
                    <small class="text-danger" *ngIf="email.errors['pattern']">Email must be valid</small>
                </div>
            </div>

            <div class="form-group">
                <label>Phone Number</label>
                <input
                type="text"
                class="form-control"
                name="mobile"
                [(ngModel)]="userModel.phoneNumber"
                required
                pattern="^\d{10}$"
                #mobile="ngModel"
                [class.is-invalid]="mobile.invalid && mobile.touched"
                />
                <div *ngIf="mobile.errors && mobile.touched">
                    <small class="text-danger" *ngIf="mobile.errors['required']">Mobile is required</small>
                    <small class="text-danger" *ngIf="mobile.errors['pattern']">Mobile number must be 10 digit</small>
                </div>
            </div>

            <div class="form-group">
                <label>Username</label>
                <input
                    type="text"
                    class="form-control"
                    name="username"
                    [(ngModel)]="userModel.userName"
                    #username="ngModel"
                    required
                    [class.is-invalid]="username.invalid && username.touched"
                />
                <small class="text-danger" [class.d-none]="username.untouched || username.valid" >Username is required</small>
            </div>
            
            <div class="form-group">
                <label>Password</label>
                <input
                    type="password"
                    class="form-control"
                    name="password"
                    [(ngModel)]="userModel.password"
                    required
                    minlength="6"
                    #password="ngModel"
                    [class.is-invalid]="password.touched && password.invalid"
                />
                <div *ngIf="password.errors && password.touched">
                    <small class="text-danger" *ngIf="password.errors['required']">Password is required</small>
                    <small class="text-danger" *ngIf="password.errors['minlength']">Password must be 6 character long</small>
                </div>
            </div>
            <input
                type="submit"
                value="Register"
                class="btn btn-primary btn-block"
                [disabled]="registerForm.invalid"
            />
            </form>
            <br />
            <p class="text-center">Already registered? <a routerLink="/login">Log In</a></p>
        </div>
    </div>
    <div class="col-md-3"></div>
    </div>
</div>